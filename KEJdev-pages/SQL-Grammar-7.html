<!DOCTYPE html>
<html>
<head>
    
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>having와 데이터 분석 함수 (pivot)</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    
        <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$'] ],
    processEscapes: true,
  }
});
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
	  alert("Math Processing Error: "+message[1]);
	});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    
    <script data-ad-client="ca-pub-5107584879184113" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="If i was rich, i would eat tteokbokki every day." />
    <link rel="shortcut icon" href="https://kejdev.github.io/./assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://kejdev.github.io/SQL-Grammar-7" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="덕복희" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="having와 데이터 분석 함수 (pivot)" />
    <meta property="og:description" content="오랜만에 찾아온 SQL입니다. 오늘은 데이터 분석 함수로 자주 사용 되는 pivot 함수에 대해 알아보겠습니다. 오늘 사용 되는 SQL 테이블은 첫 포스팅에 작성한 emp 테이블을 이용 할 예정입니다. 테이블이 없으신 분들은 여기를 클릭하여 테이블을 긁어서 사용하시기를 바랍니다. having 우선 having이 먼지 알기전에 간단하게 출력 하나 먼저 해보겠습니다. emp 테이블에서 직업과 직업별" />
    <meta property="og:url" content="https://kejdev.github.io/SQL-Grammar-7" />
    <meta property="og:image" content="https://kejdev.github.io/../assets/images/SQL_cover1.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-12-01T18:00:00+09:00" />
    <meta property="article:modified_time" content="2019-12-01T18:00:00+09:00" />
    <meta property="article:tag" content="Sql" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="having와 데이터 분석 함수 (pivot)" />
    <meta name="twitter:description" content="오랜만에 찾아온 SQL입니다. 오늘은 데이터 분석 함수로 자주 사용 되는 pivot 함수에 대해 알아보겠습니다. 오늘 사용 되는 SQL 테이블은 첫 포스팅에 작성한 emp 테이블을 이용 할 예정입니다. 테이블이 없으신 분들은 여기를 클릭하여 테이블을 긁어서 사용하시기를 바랍니다. having 우선 having이 먼지 알기전에 간단하게 출력 하나 먼저 해보겠습니다. emp 테이블에서 직업과 직업별" />
    <meta name="twitter:url" content="https://kejdev.github.io/" />
    <meta name="twitter:image" content="https://kejdev.github.io/../assets/images/SQL_cover1.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="덕복희" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Sql" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "덕복희",
        "logo": "https://kejdev.github.io/./assets/images/blog-icon.png"
    },
    "url": "https://kejdev.github.io/SQL-Grammar-7",
    "image": {
        "@type": "ImageObject",
        "url": "https://kejdev.github.io/../assets/images/SQL_cover1.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://kejdev.github.io/SQL-Grammar-7"
    },
    "description": "오랜만에 찾아온 SQL입니다. 오늘은 데이터 분석 함수로 자주 사용 되는 pivot 함수에 대해 알아보겠습니다. 오늘 사용 되는 SQL 테이블은 첫 포스팅에 작성한 emp 테이블을 이용 할 예정입니다. 테이블이 없으신 분들은 여기를 클릭하여 테이블을 긁어서 사용하시기를 바랍니다. having 우선 having이 먼지 알기전에 간단하게 출력 하나 먼저 해보겠습니다. emp 테이블에서 직업과 직업별"
}
    </script>
    
    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="having와 데이터 분석 함수 (pivot)" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    
    <div class="site-nav-right">
        
            <ul class="nav" role="menu">
    <li class="nav-HOME" role="menuitem"><a href="/">HOME</a></li>
    <li class="nav-SQL" role="menuitem"><a href="/tag/sql/">SQL</a></li>
    <li class="nav-PLSQL" role="menuitem"><a href="/tag/plsql/">PLSQL</a></li>
    <li class="nav-R" role="menuitem"><a href="/tag/r/">R</a></li>
    <li class="nav-PYTHON" role="menuitem"><a href="/tag/python/">PYTHON</a></li>
    <li class="nav-MACHINE-LEARNING" role="menuitem"><a href="/tag/machine-learning/">MACHINE-LEARNING</a></li>
    <li class="nav-go" role="menuitem"><a href="/tag/go/">GO</a></li>
    <li class="nav-PAPER" role="menuitem"><a href="/tag/paper/">PAPER</a></li>
    <li class="nav-ALGORITHM" role="menuitem"><a href="/tag/algorithm/">ALGORITHM</a></li>     
</ul>

        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-sql ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 1 December 2019"> 1 December 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/sql/'>SQL</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">having와 데이터 분석 함수 (pivot)</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/../assets/images/SQL_cover1.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>오랜만에 찾아온 SQL입니다. 오늘은 데이터 분석 함수로 자주 사용 되는 pivot 함수에 대해 알아보겠습니다.
오늘 사용 되는 SQL 테이블은 첫 포스팅에 작성한 emp 테이블을 이용 할 예정입니다. 테이블이 없으신 분들은 <a href="https://kejdev.github.io/SQL-Grammar-1">여기</a>를 클릭하여 테이블을 긁어서 사용하시기를 바랍니다.</p>

<blockquote>
  <h4 id="having">having</h4>
</blockquote>

<p>우선 having이 먼지 알기전에 간단하게 출력 하나 먼저 해보겠습니다.<br />
emp 테이블에서 직업과 직업별 토탈 월급을 간단하게 먼저 출력해보도록 하겠습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">job</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span>
<span class="k">from</span> <span class="n">emp</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">job</span><span class="p">;</span>
</code></pre></div></div>

<p>이번에는 위 결과를 다시 출력하긴 하는데, 직업별 토탈월급이 5000이상인 것들만 출력 해볼까요 ?
아마 다들 아래와 같이 작성했을꺼라 생각합니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">job</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span>
<span class="k">from</span> <span class="n">emp</span>
<span class="k">where</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">5000</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">job</span><span class="p">;</span>
</code></pre></div></div>

<p>혹시 출력이 잘되나요 ?<br />
만약 출력이 정상적으로 잘 된다면, 컴퓨터에 이상이 있는거니 수리점에 맡겨주세요.</p>

<p>아마 <strong>오류: ORA-00934: group function is not allowed here (그룹 함수는 허가되지 않는다.)</strong> 라는 문구를 만나실 수 있습니다. 왜 그럴까요 ?</p>

<p>그이 유는 where절은 group by함수로 조건을 주는 절로 사용 할 수 없기 때문입니다. 그렇기 때문에 우리는 having 절을 사용합니다. <strong>having</strong>절은 group 함수에서 사용해서 검색 조건을 주려고 할때 사용하는 함수입니다.</p>

<p>그래서 직업별 토탈 월급을 출력하려면, having을 사용해서 아래와 같이 출력하면 된답니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">job</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span>
<span class="k">from</span> <span class="n">emp</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">job</span>
<span class="k">having</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span> <span class="o">&gt;=</span><span class="mi">5000</span><span class="p">;</span>
</code></pre></div></div>

<p>마지막으로 함수 쓰는 순위와 사용법을 더 익혀보기 위해 group, having과 order by 함수 세개를 사용해서 출력 하나 해보겠습니다.</p>

<p>이번에는 직업, 직업별 토탈월급을 출력하는데, 직업이 SALESMANS은 제외하고 출력하고 토탈월급이 4000이상인 것들만 출력하는데, 직업별 토탈월급이 높은 것부터 출력하려면 어떻게 해야댈까요 ?</p>

<p>조건이 넘 많은거요 ㅠㅠㅠ?<br />
하지만 어렵지않습니다. 출력은 아래와 같이 하면 된답니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">select</span> <span class="n">job</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span>
<span class="k">from</span> <span class="n">emp</span>
<span class="k">where</span> <span class="n">job</span> <span class="o">&lt;&gt;</span> <span class="s1">'SALESMAN'</span>
<span class="k">group</span> <span class="k">by</span> <span class="n">job</span>
<span class="k">having</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span> <span class="o">&gt;=</span><span class="mi">4000</span>
<span class="k">order</span> <span class="k">by</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span> <span class="k">desc</span><span class="p">;</span>
</code></pre></div></div>

<p>결과가 잘 나오는 것을 확인하셨나요 ? 그렇다면 이번엔 pivot함수에 대해 알아보겠습니다.</p>

<blockquote>
  <h4 id="pivot">pivot</h4>
</blockquote>

<p>이번에도 간단하게 출력하나를 해보도록 하겠습니다. emp 테이블을 사용하여 부서번호, 부서번호을 가로로  출력해볼까요 ?</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="n">decode</span><span class="p">(</span><span class="n">deptno</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">sal</span><span class="p">))</span> <span class="k">as</span> <span class="nv">"10"</span><span class="p">,</span>
<span class="k">sum</span><span class="p">(</span><span class="n">decode</span><span class="p">(</span><span class="n">deptno</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">sal</span><span class="p">))</span> <span class="k">as</span> <span class="nv">"20"</span><span class="p">,</span>
<span class="k">sum</span><span class="p">(</span><span class="n">decode</span><span class="p">(</span><span class="n">deptno</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">sal</span><span class="p">))</span> <span class="k">as</span> <span class="nv">"30"</span>
<span class="k">from</span> <span class="n">emp</span><span class="p">;</span>
</code></pre></div></div>

<p>이 코드를 조금 더 간단하게 구현하려면 어떻게 해야 댈까요 ? 현재 작성한 예제 테이블은 컬럼이 몇개없다고 쳐도 실제 DB데이블은 어마무시한 양의 데이터를 저장하고 있는데, 컬럼 하나하나를 가로로 출력하기 위해  sum과 decode를 사용하면 너무 비효율적이지 않을까요 ? 이럴때 사용하는 함수가 pivot 함수입니다.</p>

<p><strong>pitvot</strong>은 회전하다 라는 뜻을 가지고 있습니다. 그래서 가로 세로 회전시킬때 자주 사용하는 함수입니다.</p>

<p>그래서 위 코드를 조금 더 간결하게 만든다면, 아래와 같이 만들 수 있습니다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span>
<span class="k">from</span> <span class="p">(</span> <span class="k">select</span> <span class="n">deptno</span><span class="p">,</span> <span class="n">sal</span> <span class="k">from</span> <span class="n">emp</span> <span class="p">)</span> 
<span class="n">pivot</span> <span class="p">(</span> <span class="k">sum</span><span class="p">(</span><span class="n">sal</span><span class="p">)</span> <span class="k">for</span> <span class="n">deptno</span> <span class="k">in</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span> <span class="p">)</span> <span class="p">;</span>
</code></pre></div></div>

<p>코드가 많이 간단해졌네요. DB같은 경우는 쿼리를 어떻게 날리느냐에 따라 속도차이가 심하니까 쿼리는 항상 잘 날려야합니다. 잘 참고 하시고 다음 포스팅에서는 실제 데이터를 이용하여 SQL문을 작성해보도록 하겠습니다.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/KEJdev">KEJdev</a></h4>
                                
                                    <p>If i was rich, I would eat tteokbokki every day.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/KEJdev">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
                
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/./assets/images/covers.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; 덕복희 &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/sql/">Sql</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/SQL-Grammar-6">문자함수와 날짜 함수 2</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/SQL-Grammar-5">문자함수와 날짜 함수 1</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/SQL-Grammar-4">데이터 제한 및 정렬 2</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/sql/">
                                
                                    See all 6 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/PYTHON-Grammar-4">
                <div class="post-card-image" style="background-image: url(/../assets/images/python_cover1.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/PYTHON-Grammar-4">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Python for문 개념 ②</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <span class="post-card-author">
                            <a href="/author/KEJdev/">KEJdev</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/PYTHON-Grammar-3">
                <div class="post-card-image" style="background-image: url(/../assets/images/python_cover1.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/PYTHON-Grammar-3">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Python for문 개념 ①</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <span class="post-card-author">
                            <a href="/author/KEJdev/">KEJdev</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
     
            
                <img src="/./assets/images/blog-icon.png" alt="덕복희 icon" />
            
            <span>덕복희</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">having와 데이터 분석 함수 (pivot)</div>
    
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <!-- Previous/next page links - displayed on every page -->
        
        
        <script data-ad-client="ca-pub-5107584879184113" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-5107584879184113",
            enable_page_level_ads: true
          });
        </script>
        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <script data-ad-client="ca-pub-5107584879184113" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                    <img class="subscribe-overlay-logo" src="/./assets/images/blog-icon.png" alt="덕복희" />
                
            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-148043528-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
